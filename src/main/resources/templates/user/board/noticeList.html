<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/css/default.css}">
  <link rel="stylesheet" th:href="@{/css/user/common.css}">
  <link rel="stylesheet" th:href="@{/css/user/board/notice.css}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <title>ğŸ“¢ê³µì§€ì‚¬í•­</title>
</head>
<body>

  <div th:replace="user/layout/header.html"></div>

  <div class="content">
    <article>
      <p class="notice_title">ğŸ“¢ê³µì§€ì‚¬í•­</p>

    <form class="search_form">
      <div class="search_box">
        <input type="search" class="search_input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        <span class="clear_btn"></span>
        <span class="search_btn"></span>
      </div>
    </form>

    <table class="notice_List">
      <thead>
      <tr>
        <th class="eng">no</th>
        <th>ì œëª©</th>
        <th>ê¸€ì“´ì´</th>
        <th>ì‘ì„±ì‹œê°„</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each=" notice, i : ${ noticeList }">
        <td class="eng" th:text="${(i.size + 1)-(i.count)}"></td>
        <td><a th:text="${notice.postTitle}" th:href="@{/board/noticedetail(id=${notice.postCode})}"></a></td>
        <td th:text="${notice.member.nickname}"></td>
        <td class="eng" th:text="${#dates.format(notice.postDate, 'yyyy.MM.dd')}"></td>
      </tr>
      </tbody>
    </table>
  </article>
  </div>
  <div th:replace="user/layout/footer.html"></div>

  <script>
    //header sub menu í™œì„±í™”
    const gnbMenu = document.querySelectorAll('.header_gnb > li > a');
    const subMenu = document.querySelectorAll('.sub_menu');
    gnbMenu.forEach(gnbmenu => {
      gnbmenu.addEventListener('mouseover', (e) => {
        e.currentTarget.nextElementSibling.classList.add("active");
      })
      gnbmenu.addEventListener('mouseout', (e) => {
        e.currentTarget.nextElementSibling.classList.remove("active");
      })
    });

    subMenu.forEach(submenu => {
      submenu.addEventListener('mouseover', (e) => {
        e.currentTarget.classList.add("active");
      })
      submenu.addEventListener('mouseout', (e) => {
        e.currentTarget.classList.remove("active");
      })
    })

    // ì˜ˆë¦¬ë·° ìŠ¬ë¼ì´ë“œ
    const swiper = new Swiper('.swiper', {
      // Optional parameters
      direction: 'horizontal',
      loop: true,

      // If we need pagination
      pagination: {
        el: '.swiper-pagination',
      },

      // Navigation arrows
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });

    // ê²€ìƒ‰ì‹œ xë²„íŠ¼
    const clearBtn = document.querySelector(".clear_btn");
    clearBtn.addEventListener("click", (e) => { //xë²„íŠ¼ í´ë¦­ì‹œ
      e.currentTarget.parentNode.querySelector(".search_input").value = null; // ì…ë ¥ëœ ê²€ìƒ‰ì–´ ë‚´ìš© nullë¡œ ë³€ê²½
      clearBtn.classList.remove("active"); // xë²„íŠ¼ ë¹„í™œì„±í™”
    });

    // ê²€ìƒ‰ì‹œ ì…ë ¥ ë‚´ìš© ì‹¤ì‹œê°„ ê°ì§€ & xë²„íŠ¼ í™œì„±/ë¹„í™œì„±í™”
    const searchInput = document.querySelector(".search_input");
    searchInput.addEventListener("input", (e) => {
      if (e.currentTarget.value.length > 0) {// ê²€ìƒ‰ì–´ì…ë ¥ë‚´ìš©ì˜ ê¸¸ì´ê°€ 0ë³´ë‹¤ í° ê²½ìš°
        clearBtn.classList.add("active"); // xë²„íŠ¼ í™œì„±í™”
      } else if (e.currentTarget.value.length <= 0) { // ê²€ìƒ‰ì–´ì…ë ¥ë‚´ìš©ì˜ ê¸¸ì´ê°€ 0ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ê²½ìš°
        clearBtn.classList.remove("active");// xë²„íŠ¼ ë¹„í™œì„±í™”
      }
    });
  </script>
</body>
</html>